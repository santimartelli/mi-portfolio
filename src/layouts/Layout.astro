---
// Supports weights 100-900
import "@fontsource-variable/inter";
import "@fontsource/titillium-web";

interface Props {
  title: string;
  description: string;
}

declare global {
  interface Window {
    dataLayer: any[];
  }
}

const { description, title } = Astro.props;
---

<!doctype html>
<html lang="es">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4SEW399N9F"></script>
    <script is:inline>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-4SEW399N9F");
    </script>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    
    <!-- Scroll Position Restoration Script -->
    <script>
      // Restore scroll position after language change
      document.addEventListener('DOMContentLoaded', function() {
        const storedPosition = sessionStorage.getItem('scrollPosition');
        if (storedPosition) {
          try {
            const { x, y } = JSON.parse(storedPosition);
            // Use requestAnimationFrame to ensure the page is fully rendered
            requestAnimationFrame(() => {
              window.scrollTo({
                left: x,
                top: y,
                behavior: 'instant' // Use instant to avoid smooth scrolling animation
              });
            });
            // Clear the stored position after restoring
            sessionStorage.removeItem('scrollPosition');
          } catch (error) {
            console.error('Error restoring scroll position:', error);
            sessionStorage.removeItem('scrollPosition');
          }
        }
      });
    </script>
  </head>
  <body class="flex flex-col bg-darkbg-950 text-darktext-300">
    <slot />
  </body>

  <style is:global>
    :root {
      color-scheme: light dark;
    }

    /* ========================================
       游꿛 SISTEMA DE DISE칌O PROFESIONAL 
       ======================================== */

    /* Modo oscuro - Elegante y Profesional */
    :root,
    .dark {
      /* === BACKGROUNDS === */
      --darkbg-950: #0a0b0f;           /* Fondo principal profundo */
      --darkbg-900: #151821;           /* Fondo secundario */
      --darkbg-800: #1f2937;           /* Fondo de tarjetas */
      --darkbg-700: #374151;           /* Fondo hover sutil */
      --darkbg-600: #4b5563;           /* Bordes suaves */
      
      /* === TEXTOS === */
      --darktext-50: #f8fafc;          /* Texto principal - blanco puro */
      --darktext-100: #f1f5f9;         /* Texto enf치tico */
      --darktext-200: #e2e8f0;         /* Texto normal */
      --darktext-300: #cbd5e1;         /* Texto secundario */
      --darktext-400: #94a3b8;         /* Texto muted */
      --darktext-500: #64748b;         /* Texto disabled */
      
      /* === ACCENTS === */
      --accent-primary: #3b82f6;       /* Azul profesional */
      --accent-primary-hover: #2563eb;
      --accent-secondary: #06b6d4;     /* Cian moderno */
      --accent-tertiary: #8b5cf6;      /* P칰rpura elegante */
      --accent-success: #10b981;       /* Verde 칠xito */
      --accent-warning: #f59e0b;       /* 츼mbar advertencia */
      --accent-error: #ef4444;         /* Rojo error */
      
      /* === SISTEMA UNIFICADO === */
      --bg-primary: var(--darkbg-950);
      --bg-secondary: var(--darkbg-900);
      --bg-tertiary: var(--darkbg-800);
      --bg-quaternary: var(--darkbg-700);
      --bg-hover: var(--darkbg-700);
      
      --text-primary: var(--darktext-50);
      --text-secondary: var(--darktext-200);
      --text-tertiary: var(--darktext-300);
      --text-muted: var(--darktext-400);
      
      --accent: var(--accent-primary);
      --accent-hover: var(--accent-primary-hover);
      --border-primary: rgba(59, 130, 246, 0.2);
      --border-secondary: rgba(59, 130, 246, 0.1);
      --shadow-primary: rgba(59, 130, 246, 0.15);
    }

    /* Modo claro - Limpio y Minimalista */
    .light {
      /* === BACKGROUNDS === */
      --darkbg-950: #ffffff;           /* Fondo principal puro */
      --darkbg-900: #f8fafc;           /* Fondo secundario */
      --darkbg-800: #f1f5f9;           /* Fondo de tarjetas */
      --darkbg-700: #e2e8f0;           /* Fondo hover */
      --darkbg-600: #cbd5e1;           /* Bordes */
      
      /* === TEXTOS === */
      --darktext-50: #0f172a;          /* Texto principal oscuro */
      --darktext-100: #1e293b;         /* Texto enf치tico */
      --darktext-200: #334155;         /* Texto normal */
      --darktext-300: #475569;         /* Texto secundario */
      --darktext-400: #64748b;         /* Texto muted */
      --darktext-500: #94a3b8;         /* Texto disabled */
      
      /* === ACCENTS === */
      --accent-primary: #2563eb;       /* Azul m치s oscuro para contraste */
      --accent-primary-hover: #1d4ed8;
      --accent-secondary: #0891b2;     /* Cian m치s oscuro */
      --accent-tertiary: #7c3aed;      /* P칰rpura m치s oscuro */
      --accent-success: #059669;       /* Verde m치s oscuro */
      --accent-warning: #d97706;       /* 츼mbar m치s oscuro */
      --accent-error: #dc2626;         /* Rojo m치s oscuro */
      
      /* === SISTEMA UNIFICADO === */
      --bg-primary: var(--darkbg-950);
      --bg-secondary: var(--darkbg-900);
      --bg-tertiary: var(--darkbg-800);
      --bg-quaternary: var(--darkbg-700);
      --bg-hover: var(--darkbg-700);
      
      --text-primary: var(--darktext-50);
      --text-secondary: var(--darktext-200);
      --text-tertiary: var(--darktext-300);
      --text-muted: var(--darktext-400);
      
      --accent: var(--accent-primary);
      --accent-hover: var(--accent-primary-hover);
      --border-primary: rgba(37, 99, 235, 0.2);
      --border-secondary: rgba(37, 99, 235, 0.1);
      --shadow-primary: rgba(37, 99, 235, 0.1);
    }

    /* Reset CSS */
    *, *::before, *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :focus {
      outline: 0.5px solid var(--text-accent);
    }

    html,
    body {
      height: 100%;
      font-family: "Titillium Web", "Inter variable", system-ui, sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      transition: all 0.3s ease;
    }

    main {
      display: flex;
      flex-direction: column;
      scroll-behavior: smooth;
      margin: 0;
      padding: 0;
      background-color: var(--bg-primary);
    }

    ::selection {
      background-color: var(--text-accent);
      color: var(--bg-primary);
    }

    /* ========================================
       游꿢 MAPEO DIN츼MICO DE CLASES EXISTENTES
       ======================================== */

    /* === BACKGROUNDS === */
    .bg-darkbg-950, .bg-\[0B0C10\], .bg-\[\#0B0C10\] {
      background-color: var(--bg-primary) !important;
    }
    
    .bg-darkbg-900, .bg-\[1F2833\], .bg-\[\#1F2833\] {
      background-color: var(--bg-secondary) !important;
    }
    
    .bg-darkbg-800 {
      background-color: var(--bg-tertiary) !important;
    }

    .bg-darkbg-700 {
      background-color: var(--bg-quaternary) !important;
    }
    
    /* === TEXTOS === */
    .text-white {
      color: var(--text-primary) !important;
    }

    .text-darktext-300 {
      color: var(--text-secondary) !important;
    }
    
    .text-darktext-400 {
      color: var(--text-muted) !important;
    }
    
    /* === ACCENTS === */
    .text-accent-400, .text-\[45A29E\], .text-\[\#45A29E\] {
      color: var(--accent) !important;
    }
    
    .text-accent-500 {
      color: var(--accent-hover) !important;
    }

    .bg-accent-400, .bg-accent-500 {
      background-color: var(--accent) !important;
    }
    
    /* === BORDES === */
    .border-accent-500, .border-\[45A29E\], .border-\[\#45A29E\] {
      border-color: var(--accent) !important;
    }

    .border-accent-500\/30, .border-\[45A29E\]\/20 {
      border-color: var(--border-primary) !important;
    }

    .border-accent-500\/20 {
      border-color: var(--border-secondary) !important;
    }

    .border-accent-500\/10 {
      border-color: color-mix(in srgb, var(--accent) 10%, transparent) !important;
    }

    /* === HOVERS Y ESTADOS === */
    .hover\:bg-darkbg-900\/70:hover, .hover\:bg-darkbg-900\/50:hover {
      background-color: var(--bg-hover) !important;
      transition: all 0.2s ease !important;
    }

    .hover\:text-white:hover {
      color: var(--text-primary) !important;
      transition: color 0.2s ease !important;
    }

    .hover\:text-accent-400:hover {
      color: var(--accent-hover) !important;
      transition: color 0.2s ease !important;
    }

    /* === GRADIENTS DIN츼MICOS === */
    .from-accent-400 {
      --tw-gradient-from: var(--accent) var(--tw-gradient-from-position) !important;
    }

    .to-accent-500 {
      --tw-gradient-to: var(--accent-hover) var(--tw-gradient-to-position) !important;
    }

    .from-darkbg-900 {
      --tw-gradient-from: var(--bg-secondary) var(--tw-gradient-from-position) !important;
    }

    .to-darkbg-950 {
      --tw-gradient-to: var(--bg-primary) var(--tw-gradient-to-position) !important;
    }

    /* === TRANSPARENCIAS === */
    .bg-darkbg-950\/90 {
      background-color: color-mix(in srgb, var(--bg-primary) 90%, transparent) !important;
    }

    .bg-darkbg-950\/70 {
      background-color: color-mix(in srgb, var(--bg-primary) 70%, transparent) !important;
    }

    .bg-darkbg-900\/80 {
      background-color: color-mix(in srgb, var(--bg-secondary) 80%, transparent) !important;
    }

    /* === DIVIDERS === */
    .divide-accent-500\/10 > * + * {
      border-color: color-mix(in srgb, var(--accent) 10%, transparent) !important;
    }

    /* ========================================
       游 CLASES DE UTILIDAD MODERNAS
       ======================================== */

    .theme-card {
      background-color: var(--bg-tertiary);
      border: 1px solid var(--border-secondary);
      transition: all 0.3s ease;
    }

    .theme-card:hover {
      background-color: var(--bg-hover);
      border-color: var(--border-primary);
      box-shadow: 0 4px 6px -1px var(--shadow-primary);
    }

    .theme-button-primary {
      background: linear-gradient(135deg, var(--accent) 0%, var(--accent-hover) 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);
      position: relative;
      overflow: hidden;
    }

    .theme-button-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);
    }

    .theme-button-primary:active {
      transform: translateY(0px);
      box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);
    }

    .theme-button-secondary {
      background-color: transparent;
      color: var(--text-secondary);
      border: 1.5px solid color-mix(in srgb, var(--accent) 30%, transparent);
      border-radius: 12px;
      font-weight: 500;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .theme-button-secondary:hover {
      background-color: color-mix(in srgb, var(--accent) 10%, transparent);
      border-color: var(--accent);
      color: var(--accent);
      transform: translateY(-1px);
    }

    .theme-button-secondary:active {
      transform: translateY(0px);
    }

    .theme-text-gradient {
      background: linear-gradient(135deg, var(--accent), var(--accent-secondary));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .theme-border-gradient {
      border: 1px solid transparent;
      background: linear-gradient(var(--bg-tertiary), var(--bg-tertiary)) padding-box,
                  linear-gradient(135deg, var(--accent), var(--accent-secondary)) border-box;
    }
  </style>
</html>
