---
// Importaciones: fuente, layout principal, componentes con traducciones y divisor
import "@fontsource/titillium-web";
import Layout from "../layouts/Layout.astro";
import NavbarWithTranslations from "../components/navigation/NavbarWithTranslations";
import ProjectsWithTranslations from "../components/sections/ProjectsWithTranslations";
import AboutMeWithTranslations from "../components/sections/AboutMeWithTranslations";
import HeroWithTranslations from "../components/sections/HeroWithTranslations";
import ContactWithTranslations from "../components/sections/ContactWithTranslations";
import FooterWithTranslations from "../components/sections/FooterWithTranslations";
import Divider from "../components/common/Divider";

// Carga de traducciones en español para todas las secciones
const heroTranslations = await import("../content/es/hero.json");
const navbarTranslations = await import("../content/es/navbar.json");
const aboutmeTranslations = await import("../content/es/aboutme.json");
const projectsTranslations = await import("../content/es/projects.json");
const contactTranslations = await import("../content/es/contact.json");
const footerTranslations = await import("../content/es/footer.json");

// Objeto consolidado de traducciones para pasar a los componentes
const translations = {
  hero: heroTranslations.default,
  navbar: navbarTranslations.default,
  aboutme: aboutmeTranslations.default,
  projects: projectsTranslations.default,
  contact: contactTranslations.default,
  footer: footerTranslations.default
};
---

<Layout
  title="Santiago Martelli | Programador y Desarrollador Web"
  description="Hola! Soy Santiago Martelli, un programador y desarrollador web con conocimientos de HTML, CSS, JavaScript, Vue.js, PHP, Laravel, SQL y más. Disponible para trabajar!">
  <main>
    <NavbarWithTranslations translations={translations} client:load />

    <section id="home" class="relative">
      <HeroWithTranslations translations={translations} client:visible />
    </section>

    <Divider client:load />

    <section id="about" class="relative">
      <AboutMeWithTranslations translations={translations} client:visible />
    </section>

    <Divider client:load />

    <section id="projects" class="relative">
      <ProjectsWithTranslations translations={translations} client:visible />
    </section>

    <Divider client:load />

    <section id="contact" class="relative">
      <ContactWithTranslations translations={translations} client:visible />
    </section>

    <FooterWithTranslations translations={translations} client:visible />
  </main>
</Layout>
